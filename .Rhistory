mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin123',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin123',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin123',ABA_Rating))
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin123',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
View(aba_ratings)
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\/+','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('^\\/+','',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
write.csv(aba_ratings, file= "./master_aba_ratings.csv" , row.names=FALSE)
View(congress112special_raw)
View(congress112special_raw)
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('^\\/+','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('WQsm/QminWQ','WQ',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
sort( unique(aba_ratings$ABA_Rating))
write.csv(aba_ratings, file= "./master_aba_ratings.csv" , row.names=FALSE)
aba_ratings$Date_Nominated
substr(aba_ratings$Date_Nominated,length(aba_ratings$Date_Nominated),-2)
install.packages("stringi")
install.packages("stringi")
library("stringi")
library(stringi)
library(stringr)
substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated))
gsub('\/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
as.integer( gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated))))
as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
)
as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
)
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
# as.integer(
sort(unique(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
))
as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
) %% 2 == 0
ifelse(  as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
) %% 2 == 0 ,1,0)
sort(unique(
ifelse(  as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
) %% 2 == 0 ,1,0)
))
table(
ifelse(  as.integer(
gsub('/','', substr(aba_ratings$Date_Nominated,(nchar(aba_ratings$Date_Nominated)+1)-2,nchar(aba_ratings$Date_Nominated)))
) %% 2 == 0 ,1,0)
)
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('^\\/+','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('WQsm/QminWQ','WQ',ABA_Rating)) %>%
mutate(congress_session = ifelse(as.integer(gsub('/','',
substr(aba_ratings$Date_Nominated,
(nchar(aba_ratings$Date_Nominated)+1)-2,
nchar(aba_ratings$Date_Nominated)))
) %% 2 == 0 ,'Two','One'
)
)  %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
aba_ratings <- combinedRatings %>%
filter(!trimws(Date_Nominated) %in% c('DATE','NOMINATED')) %>%
filter(!ABA_Rating %in% c(''))  %>%
mutate(asterisk_ind = grepl('\\*',Date_Nominated))  %>%
mutate(Date_Nominated = ifelse(!is.na(date_prob_ind),date_prob_ind,Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\*','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\(|\\)','',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('4/28/03','4/28/2003',Date_Nominated)) %>%
mutate(Date_Nominated = gsub('\\?','',Date_Nominated)) %>%
mutate(.,Date_Nominated = ifelse(Date_Nominated=='',NA,.$Date_Nominated),
Name_of_Nominee = ifelse(Name_of_Nominee=='',NA,.$Name_of_Nominee),
Court_to_Which_Nominated = ifelse(Court_to_Which_Nominated=='',NA,.$Court_to_Which_Nominated)) %>%
fill(Date_Nominated,.direction="up")  %>%
fill(Name_of_Nominee,.direction="up")  %>%
fill(Court_to_Which_Nominated,.direction="up")  %>%
group_by_at(vars(Date_Nominated,Name_of_Nominee,Court_to_Which_Nominated,President,Congress)) %>%
summarize_all(paste, collapse=" ")  %>%
mutate(ABA_Rating = gsub('\\n','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('\\*','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub(filters,'',ABA_Rating,ignore.case=TRUE)) %>%
mutate(ABA_Rating = gsub(' or ','/',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('See rating 4/9/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('See rating 1/7/03','WQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('mminQ/WQmminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/NQ','Qm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminQ/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mminWQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/Q/WQ','Qm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('mmin/WQ/Q','WQm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/min/Q/NQ','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm/Q/NQ','Qsm/NQ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/NQmin','Qsm/NQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sm min WQ  /Q','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sQm/WQmin','Qsm/WQmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('sWQm/Qmin','WQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('WQ  NQsm/Qmin','WQ/NQsm/Qmin',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^Qsm/$','Qsm',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('^sm$','Qsm/NQmin ',ABA_Rating))  %>%
mutate(ABA_Rating = gsub('\\(\\)','',ABA_Rating))  %>%
mutate(ABA_Rating = gsub(' ','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('^\\/+','',ABA_Rating)) %>%
mutate(ABA_Rating = gsub('WQsm/QminWQ','WQ',ABA_Rating)) %>%
select("Date_Nominated",Name_of_Nominee,Court_to_Which_Nominated,President,Congress,ABA_Rating)
library(ggmap)
library(rvest)
library(dplyr)
library(foreach)
library(XML)
library(plyr)
library(gender)
library(stringr)
library(janitor)
library(pdftools)
library(pdftables)
library(jsonlite)
library(splitstackshape)
library(rJava)
library(ghit)
library(tabulizer)
library(tidyr)
library(lubridate)
setwd("C:/cygwin64/home/659163/GitHub/FederalJudiciary.github.io")
library(ggmap)
library(rvest)
library(XML)
library(dplyr)
library(foreach)
library(plyr)
library(gender)
library(stringr)
install.packages("stringi")
remove.packages(stringi)
install.packages("stringi")
